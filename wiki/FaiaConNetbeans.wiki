#summary Instrucciones para utilizar FAIA con NetBeans.
#labels Featured

*LEER ANTES DE CONTINUAR:* Antes de seguir estos pasos es necesario leer [http://code.google.com/p/faia/wiki/InstruccionesInstalacion las instrucciones de instalación].

== Importar FAIA ==

_NOTAS:_
 * Es importante, antes de continuar, haber leído la sección "Instalar FAIA" de la [http://code.google.com/p/faia/wiki/InstruccionesInstalacion página de instrucciones de instalación].
 * Estas instrucciones de importación de FAIA se aplican también para los ejemplos, ya que los pasos son muy similares.
 * Se pone especial énfasis en configurar correctamente la codificación de caracteres de cada proyecto importado o creado, como se indica en uno de los pasos siguientes, ya que de otro modo surgirán errores.

|| *1.* Ir al menú _File -> Open Project..._ ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/importarFaia1.png ||
|| *2.* Dirigirse a la carpeta donde se han descomprimido FAIA y los ejemplos. Manteniendo presionada la tecla _Control_, es posible abrir únicamente el proyecto 'faia' o éste junto con todos los ejemplos. Finalmente presionar la tecla _Open Project_. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/importarFaia2.png ||
|| *3.* Ahora es necesario *cambiar la codificación de caracteres* de _faia_. Hacemos click derecho en el proyecto y elegimos _Properties_. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/importarFaia3.png ||
|| *4.* En la sección _Sources_, asegurarse que el campo _Encoding_ tenga seleccionada la opción "UTF-8". Presionar el botón _OK_. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/importarFaia4.png ||

== Configurar un proyecto para que utilice FAIA ==

_NOTAS:_
 * Antes de seguir estos pasos es necesario haber importado FAIA.
 * Estos son pasos básicos para agregar una referencia a nuestro proyecto para utilizar FAIA. Más abajo se dan pasos detallados para poder utilizar Búsqueda y Cálculo Situacional.
 * Recordar cambiar la codificación de caracteres de los proyectos recién creados a "UTF-8". Las instrucciones están en la sección para importar FAIA.

|| *1.* Creamos un nuevo proyecto yendo a _File -> New Project_.  ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/configurarProyecto1.png ||
|| *2.* En _Categories_ elegimos la opción _Java_, y luego en _Projects_ elegimos _Java Application_. Presionamos _Next_. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/configurarProyecto2.png ||
|| *3.* Colocamos un nombre en el campo _Project Name_. Podemos cambiar algunas opciones del proyecto, como su ubicación (es conveniente almacenarlo en la misma carpeta padre en donde se encuentra el proyecto _faia_). Cuando finalicemos, presionamos _Finish_. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/configurarProyecto3.png ||
|| *4.* El proyecto ha sido creado. Ahora agregamos una referencia al proyecto FAIA: hacemos click derecho en _Libraries_, y elegimos _Add Project..._. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/configurarProyecto4.png ||
|| *5.* Buscamos la carpeta donde tenemos el proyecto FAIA, lo seleccionamos y presionamos _Add Project JAR Files_. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/configurarProyecto5.png ||
|| *6.* Finalmente ya podemos comenzar a utilizar FAIA en nuestro proyecto. ||
|| http://faia.googlecode.com/svn/wiki/images/faiaConNetBeans/configurarProyecto6.png ||

== Configurar un proyecto para utilizar _Búsqueda_ ==

Para comenzar a utilizar estrategias de Búsqueda simplemente se deben especializar las clases que correspondan, proveídas por el framework FAIA. Para aprender cómo hacerlo, es conveniente observar los ejemplos incluidos.

Vale aclarar aquí una cuestión. Cuando se corre un proyecto que utiliza alguna estrategia de Búsqueda con FAIA, es posible indicarle al framework que genere cierto tipo de salidas sobre la corrida, para poder observar luego el funcionamiento interno del agente, esto es, el árbol de búsqueda. FAIA provee dos tipos de salidas:

 * Archivos *XML*, que se almacenan en el directorio "searchTrees" dentro de la carpeta del proyecto.
 * Archivos *PDF*, que muestran de una forma gráfica los árboles generados durante el proceso de búsqueda. Se almacenan en el directorio "pdfLatex" de la carpeta del proyecto. Esta opción utiliza LaTeX. En la página de instrucciones de instalación hay una guía para su instalación en Windows y GNU/Linux.

Para configurar el agente y obtener alguna de estas salidas, se puede utilizar el método _setVisibleTree_ de la clase _Search_. En el ejemplo del Pacman esta opción es seteada en el método _selectAction_ de la clase _!AgentePacman:

{{{
Search busqueda = new Search(estrategiaBusqueda);

// Indica que el árbol de búsqueda debe ser mostrado en formato PDF
busqueda.setVisibleTree(Search.PDF_TREE);
}}}

Si se ha configurado FAIA para generar un PDF, entonces la carpeta "pdfLatex" luce de esta forma:

http://faia.googlecode.com/svn/wiki/images/busqueda/carpetaPdflatex.png

[http://faia.googlecode.com/svn/wiki/images/busqueda/arbolGenerado.pdf En éste enlace] se puede bajar un archivo PDF de ejemplo. La lectura del mismo debe realizarse de izquierda a derecha, de arriba hacia abajo.

De esta forma, en el PDF de ejemplo, si observamos a la izquierda arriba, veremos un subárbol en el que su nodo padre tiene su "Execution Order" (EO) igual a 0 (o sea, es el primer nodo creado, y el que representa el estado actual del agente). Allí podemos ver que el agente ha aplicado 4 operaciones posibles sobre el mismo (Izquierda, Arriba, Derecha y Abajo), generando 4 nodos más. Observar que el costo del nodo inicial (EO = 0) es 0 (cero), en cambio sus hijos tienen un valor de -1. Esto es así porque se utiliza una estructura tipo lista ordenada para todas las estrategias, y para simular el comportamiento de una pila (que es la estructura que deberíamos utilizar para almacenar los nodos expandidos en "Primero en Profundidad") el costo de los nodos hijos es una unidad menos que el padre.

En el subárbol de la derecha, podemos observar que el nodo padre del mismo es aquel con EO igual a 1. O sea, es el nodo que se ha generado al aplicar el operador Izquierda sobre el nodo 0 (EO = 0). De esta forma entendemos que nuestra estrategia de búsqueda ha escogido ese nodo para expandir en el paso siguiente. Observar que esta vez se aplicaron 3 operadores: Izquierda, Arriba y Abajo.

Luego podemos ver que el agente ha escogido los nodos: 5, 8, 11, 14, 17, 19, 22, etc... terminando su ejecución en el nodo 40, donde ha llegado al objetivo. Por lo tanto, la acción que va a tomar es la que indica el nodo EO = 1: Izquierda.


== Configurar un proyecto para utilizar _Prolog_ ==

TODO: Esta sección no está terminada.

Se debe utilizar como directorio para librerías a 'faia\lib', donde se encuentran algunas dependencias que es necesario referenciar. Para esto:

 # Hacer click derecho en _Libraries_ dentro del proyecto nuevo y elegir la opción _Properties_.
 # En la sección _Libraries_, en el campo _Libraries folder_ elegir la carpeta 'faia\lib" (utilizar el botón _Browse_ para ubicarla).
 # Luego hacer click derecho nuevamente en "Libraries" y elegir la opción "Add JAR/Folder".
 # Elegir el archivo 'jpl.jar'.

Con los pasos anteriores ya tenemos agregado el archivo 'jpl.jar' a nuestro classpath. Con esto ya podemos utilizar Prolog en Windows XP (suponiendo que ya ha sido instalado con los pasos dados en esta página, modificando la variable PATH como se indica). *Sin embargo, para sistemas GNU/Linux, es necesario realizar, además, los siguientes pasos:*

 * Hacer click derecho en el proyecto, y elegir la opción "Properties".
 * En "Run", dentro de la caja de texto "VM Options" colocar: _-Djava.library.path="/usr/lib/pl-5.6.57/lib/i386-linux"_. Es importante no olvidarse de colocar las comillas dobles para indicar la ruta del directorio, y así evitarse problemas.

Luego de realizar correctamente los pasos anteriores, debería ser posible correr proyectos que utilicen Cálculo Situacional con FAIA. Es recomendable ver los ejemplos incluidos.